(this["webpackJsonpvizzion-client"]=this["webpackJsonpvizzion-client"]||[]).push([[0],{51:function(e,t,a){e.exports=a(64)},56:function(e,t,a){},57:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},58:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(11),c=a.n(r),i=(a(56),a(16)),l=(a(57),a(58),a(40)),s=a(99),p=a(98),d=a(3),u=a(14),m=a.n(u),g=a(89),h=a(91),f=a(44),b=a.n(f),x=a(45),w=a.n(x),E=a(97),v=a(101),O=a(93),j=a(102),S=a(100),y=a(94),k=a(95),C=a(96),z=Object(g.a)((function(e){return{root:{display:"flex"},drawer:{width:240,flexShrink:0,display:"flex",flexDirection:"column",position:"relative"},drawerPaper:{width:240},drawerTitle:{fontSize:"24px",fontWeight:"bold",padding:"10px"},drawerBody:{padding:"0px 10px"},buttonGroup:{padding:"20px 0px",display:"flex",alignContent:"space-between","& button":{flexGrow:1}},drawerToggle:{display:"flex",alignItems:"center",position:"absolute",right:0,top:5,radius:"5px",backgroundColor:"white",zIndex:10,boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2)"},content:{flexGrow:1,position:"relative",transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0},tooltip:{display:"flex",flexDirection:"column",width:"300px","& img":{height:"auto",maxWidth:"300px"}}}})),N=(m.a.icon({iconUrl:"camera.png",iconAnchor:[16,16],popupAnchor:[-3,-76]}),m.a.icon({iconUrl:"hotspot_camera.png",iconAnchor:[16,16],popupAnchor:[-3,-76]}),m.a.circle({color:"red",fillColor:"red",opacity:.75,radius:5e3}),function(e){var t=Object(n.useState)({lat:43.6475,long:-79.3811,zoom:13}),a=Object(i.a)(t,2),r=a[0],c=(a[1],Object(n.useState)([])),u=Object(i.a)(c,2),m=u[0],g=u[1],f=Object(n.useState)(!0),x=Object(i.a)(f,2),N=x[0],A=x[1],R=Object(n.useState)(!1),T=Object(i.a)(R,2),B=T[0],U=T[1],G=Object(n.useState)(!1),L=Object(i.a)(G,2),W=L[0],D=L[1],I=Object(n.useState)(!1),P=Object(i.a)(I,2),F=(P[0],P[1],Object(n.useState)(!1)),J=Object(i.a)(F,2),M=(J[0],J[1],z()),$=function(){U(!B)};return o.a.createElement("div",{className:M.root},o.a.createElement("div",{className:Object(d.a)(M.content,Object(l.a)({},M.contentShift,B))},o.a.createElement("div",{onClick:$,className:M.drawerToggle},o.a.createElement(h.a,{onClick:$},B?o.a.createElement(w.a,null):o.a.createElement(b.a,null))),o.a.createElement(s.a,{onClick:function(e){if(N){var t=[e.latlng.lat.toFixed(3),e.latlng.lng.toFixed(3)];if(console.log(t),0===m.length)g([t]);else if(1===m.length){var a=m[0];console.log(a,t),g([a,t])}else 2!==m.length||W?W&&D(!1):g([t])}},height:100,center:[r.lat,r.long],zoom:r.zoom},o.a.createElement(p.a,{style:{cursor:N&&"pointer !important"},attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}))),o.a.createElement(E.a,{className:M.drawer,variant:"persistent",anchor:"right",open:B,classes:{paper:M.drawerPaper}},o.a.createElement("div",{className:M.drawerTitle},"Toolbar"),o.a.createElement("div",{className:M.drawerBody},o.a.createElement(v.a,{margin:"normal"},o.a.createElement(O.a,null,"Change Search Area"),o.a.createElement(j.a,{label:"Toggle Area Edit",control:o.a.createElement(S.a,{checked:N,onChange:function(e){A(!N)},name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}})}),o.a.createElement(y.a,null,"Select two points to create new search rectangle"),o.a.createElement(k.a,{className:M.buttonGroup,row:!0},o.a.createElement(C.a,{onClick:function(){2===m.length&&(e.handleNewRectangle(m),g([]))},variant:"contained",color:"primary"},"Update"),o.a.createElement(C.a,{onClick:function(){g([]),e.handleReset()},variant:"contained"},"Clear")),o.a.createElement(k.a,null,o.a.createElement(C.a,{variant:"contained",color:"secondary",onClick:function(){try{var t=document.createElement("a"),a="";e.cameras.map((function(e){return a+=e.id+"\n"}));var n=new Blob([a],{type:"text/plain"});t.href=URL.createObjectURL(n),t.download="cameraList",t.click()}catch(o){console.log("Error Exporting Data")}}},"Export"))))))});var A=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=(t[0],t[1]),r=Object(n.useState)(!0),c=Object(i.a)(r,2),l=c[0],s=c[1];return Object(n.useEffect)((function(){return[fetch("/api").then((function(e){return e.json()})).then((function(e){a(e),s(!1)}))]}),[]),o.a.createElement("div",{className:"App"},l?"Loading...":o.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.9afd45cf.chunk.js.map